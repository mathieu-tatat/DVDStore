{"ast":null,"code":"var _class;\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/auth.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common/http\";\nimport * as i4 from \"@angular/forms\";\nexport class LoginComponent {\n  constructor(authService, router, http) {\n    this.authService = authService;\n    this.router = router;\n    this.http = http;\n    this.send = form => {\n      if (form.valid) {\n        this.authService.send(form.value).subscribe(response => {\n          console.log(\"connexion réussie\");\n          sessionStorage.setItem('token', response.token);\n          this.router.navigate(['/home']);\n          console.log(response.token);\n        }, error => {\n          console.log(error);\n          console.log(\"connexion échouée\");\n        });\n      }\n    };\n  }\n  logout() {\n    this.authService.logout();\n    // Redirigez l'utilisateur vers la page de connexion ou une autre page après la déconnexion\n    this.router.navigate(['/login']);\n    console.log(sessionStorage.getItem('token'));\n  }\n}\n_class = LoginComponent;\n_class.ɵfac = function LoginComponent_Factory(t) {\n  return new (t || _class)(i0.ɵɵdirectiveInject(i1.AuthService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.HttpClient));\n};\n_class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _class,\n  selectors: [[\"app-login\"]],\n  decls: 35,\n  vars: 0,\n  consts: [[1, \"absolute\", \"h-124\", \"flex\", \"flex-wrap\", \"m-auto\", \"justify-between\", \"w-9/12\", \"ml-80\", \"top-64\", \"overflow-hidden\", \"overflow-scroll\"], [1, \"h-full\", \"m-auto\", \"bg-fumee-400\"], [1, \"container\", \"h-full\", \"p-10\"], [1, \"flex\", \"h-full\", \"flex-wrap\", \"items-center\", \"justify-center\", \"text-neutral-800\", \"dark:text-neutral-200\"], [1, \"w-148\"], [1, \"block\", \"rounded-lg\", \"bg-fumee\", \"shadow-lg\"], [1, \"g-0\", \"lg:flex\", \"lg:flex-wrap\"], [1, \"px-4\", \"md:px-0\", \"lg:w-full\"], [1, \"flex\", \"row\"], [1, \"md:p-12\"], [1, \"text-center\"], [\"src\", \"assets/logoVintage.png\", \"alt\", \"logo\", 1, \"mx-auto\", \"w-48\"], [1, \"mb-12\", \"mt-1\", \"pb-1\", \"text-xl\", \"font-semibold\"], [1, \"p-4\"], [3, \"submit\"], [\"form\", \"ngForm\"], [\"data-te-input-wrapper-init\", \"\", 1, \"relative\", \"mb-4\"], [\"for\", \"username \"], [\"type\", \"text\", \"id\", \"login\", \"name\", \"username\", \"placeholder\", \"Username\", 1, \"peer\", \"block\", \"min-h-[auto]\", \"w-full\", \"rounded\", \"border-2\", \"bg-transparent\", \"px-3\", \"py-[0.32rem]\", \"leading-[1.6]\", \"outline-none\", \"transition-all\", \"duration-200\", \"ease-linear\", \"focus:placeholder:opacity-100\", \"data-[te-input-state-active]:placeholder:opacity-100\", \"motion-reduce:transition-none\", \"dark:placeholder:text-neutral-200\", \"[&:not([data-te-input-placeholder-active])]:placeholder:opacity-0\", 3, \"ngModel\"], [\"type\", \"password\", \"id\", \"password\", \"name\", \"password\", \"placeholder\", \"Password\", 1, \"peer\", \"block\", \"min-h-[auto]\", \"w-full\", \"rounded\", \"border-2\", \"bg-transparent\", \"px-3\", \"py-[0.32rem]\", \"leading-[1.6]\", \"outline-none\", \"transition-all\", \"duration-200\", \"ease-linear\", \"focus:placeholder:opacity-100\", \"data-[te-input-state-active]:placeholder:opacity-100\", \"motion-reduce:transition-none\", \"dark:placeholder:text-neutral-200\", \"[&:not([data-te-input-placeholder-active])]:placeholder:opacity-0\", 3, \"ngModel\"], [1, \"mb-12\", \"pb-1\", \"pt-1\", \"text-center\"], [\"type\", \"submit\", \"data-te-ripple-init\", \"\", \"data-te-ripple-color\", \"light\", 1, \"mb-3\", \"inline-block\", \"w-full\", \"rounded\", \"px-6\", \"pb-2\", \"pt-2.5\", \"text-xs\", \"font-medium\", \"uppercase\", \"leading-normal\", \"text-white\", \"shadow-[0_4px_9px_-4px_rgba(0,0,0,0.2)]\", \"transition\", \"duration-150\", \"ease-in-out\", \"hover:shadow-[0_8px_9px_-4px_rgba(0,0,0,0.1),0_4px_18px_0_rgba(0,0,0,0.2)]\", \"focus:shadow-[0_8px_9px_-4px_rgba(0,0,0,0.1),0_4px_18px_0_rgba(0,0,0,0.2)]\", \"focus:outline-none\", \"focus:ring-0\", \"active:shadow-[0_8px_9px_-4px_rgba(0,0,0,0.1),0_4px_18px_0_rgba(0,0,0,0.2)]\", 2, \"background\", \"linear-gradient(to right, #ee7724, #d8363a, #dd3675, #b44593)\"], [\"href\", \"#!\"], [1, \"flex\", \"items-center\", \"justify-between\", \"pb-6\"], [1, \"mb-0\", \"mr-2\"], [\"type\", \"button\", \"data-te-ripple-init\", \"\", \"data-te-ripple-color\", \"light\", 1, \"inline-block\", \"rounded\", \"border-2\", \"border-danger\", \"px-6\", \"pb-[6px]\", \"pt-2\", \"text-xs\", \"font-medium\", \"uppercase\", \"leading-normal\", \"text-danger\", \"transition\", \"duration-150\", \"ease-in-out\", \"hover:border-danger-600\", \"hover:bg-neutral-500\", \"hover:bg-opacity-10\", \"hover:text-danger-600\", \"focus:border-danger-600\", \"focus:text-danger-600\", \"focus:outline-none\", \"focus:ring-0\", \"active:border-danger-700\", \"active:text-danger-700\", \"dark:hover:bg-neutral-100\", \"dark:hover:bg-opacity-10\"]],\n  template: function LoginComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      const _r1 = i0.ɵɵgetCurrentView();\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"section\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"div\", 4)(5, \"div\", 5)(6, \"div\", 6)(7, \"div\", 7)(8, \"div\", 8)(9, \"div\", 9)(10, \"div\", 10);\n      i0.ɵɵelement(11, \"img\", 11);\n      i0.ɵɵelementStart(12, \"h4\", 12);\n      i0.ɵɵtext(13, \" We are The DVD Vintage Team \");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(14, \"div\", 13)(15, \"form\", 14, 15);\n      i0.ɵɵlistener(\"submit\", function LoginComponent_Template_form_submit_15_listener() {\n        i0.ɵɵrestoreView(_r1);\n        const _r0 = i0.ɵɵreference(16);\n        return i0.ɵɵresetView(ctx.send(_r0));\n      });\n      i0.ɵɵelementStart(17, \"div\", 16)(18, \"label\", 17);\n      i0.ɵɵtext(19, \"Username\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(20, \"input\", 18);\n      i0.ɵɵlistener(\"ngModel\", function LoginComponent_Template_input_ngModel_20_listener() {\n        return ctx.retour.username;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(21, \"div\", 16)(22, \"label\");\n      i0.ɵɵtext(23, \"Password\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(24, \"input\", 19);\n      i0.ɵɵlistener(\"ngModel\", function LoginComponent_Template_input_ngModel_24_listener() {\n        return ctx.retour.password;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(25, \"div\", 20)(26, \"button\", 21);\n      i0.ɵɵtext(27, \" Log in \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(28, \"a\", 22);\n      i0.ɵɵtext(29, \"Forgot password?\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(30, \"div\", 23)(31, \"p\", 24);\n      i0.ɵɵtext(32, \"Don't have an account?\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(33, \"button\", 25);\n      i0.ɵɵtext(34, \" Register \");\n      i0.ɵɵelementEnd()()()()()()()()()()()()();\n    }\n  },\n  dependencies: [i4.ɵNgNoValidate, i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.NgModel, i4.NgForm],\n  styles: [\"/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJsb2dpbi5jb21wb25lbnQuY3NzIn0= */\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvbG9naW4vbG9naW4uY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQ0EsZ0tBQWdLIiwic291cmNlUm9vdCI6IiJ9 */\"]\n});","map":{"version":3,"names":["LoginComponent","constructor","authService","router","http","send","form","valid","value","subscribe","response","console","log","sessionStorage","setItem","token","navigate","error","logout","getItem","i0","ɵɵdirectiveInject","i1","AuthService","i2","Router","i3","HttpClient","selectors","decls","vars","consts","template","LoginComponent_Template","rf","ctx","ɵɵelementStart","ɵɵelement","ɵɵtext","ɵɵelementEnd","ɵɵlistener","LoginComponent_Template_form_submit_15_listener","ɵɵrestoreView","_r1","_r0","ɵɵreference","ɵɵresetView","LoginComponent_Template_input_ngModel_20_listener","retour","username","LoginComponent_Template_input_ngModel_24_listener","password"],"sources":["/Users/mathieutatat/IdeaProjects/DVDStore/front/src/app/login/login.component.ts","/Users/mathieutatat/IdeaProjects/DVDStore/front/src/app/login/login.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport { AuthService, RecupTokenRoleDto } from '../services/auth.service';\nimport { Router } from '@angular/router';\nimport { NgForm } from '@angular/forms';\nimport { HttpClient } from '@angular/common/http';\n\n\nexport interface retour{\n\n  token: string;\n}\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.css']\n})\nexport class LoginComponent {\n\n  retour: any | undefined;\n  \n  constructor(private authService: AuthService, private router: Router , private http: HttpClient ) {}\n\n  send = (form: NgForm) => {\n    if (form.valid) {\n      this.authService.send(form.value).subscribe(\n        (response: RecupTokenRoleDto) => {\n          console.log(\"connexion réussie\");\n          sessionStorage.setItem('token', response.token);\n          this.router.navigate(['/home']);\n          console.log(response.token);\n        },\n        (error) => {\n          console.log(error);\n          console.log(\"connexion échouée\");\n        }\n    )}\n  }\n\n  logout() {\n    this.authService.logout();\n    // Redirigez l'utilisateur vers la page de connexion ou une autre page après la déconnexion\n    this.router.navigate(['/login']);\n    console.log(sessionStorage.getItem('token'));\n  }\n}\n","<div class=\"absolute h-124 flex flex-wrap m-auto justify-between w-9/12  ml-80 top-64 overflow-hidden overflow-scroll \">\n\n    <section class=\"h-full m-auto bg-fumee-400\">\n        <div class=\"container h-full p-10\">\n        <div class=\" flex h-full flex-wrap items-center justify-center text-neutral-800 dark:text-neutral-200\">\n            <div class=\"w-148\">\n            <div\n                class=\"block rounded-lg bg-fumee shadow-lg\">\n                <div class=\"g-0 lg:flex lg:flex-wrap\">\n                <!-- Left column container-->\n                <div class=\"px-4 md:px-0 lg:w-full\">\n                    <div class=\"flex row\">\n                    <div class=\" md:p-12\">\n                    <!--Logo-->\n                    <div class=\"text-center\">\n                        <img\n                        class=\"mx-auto w-48\"\n                        src=\"assets/logoVintage.png\"\n                        alt=\"logo\" />\n                        <h4 class=\"mb-12 mt-1 pb-1 text-xl font-semibold\">\n                        We are The DVD Vintage Team\n                        </h4>\n                    </div>\n                    </div>\n                    <div class=\"p-4\">\n                        <form #form=\"ngForm\" (submit)=\"send(form)\">\n                        <!--Username input-->\n                            <div class=\"relative mb-4\" data-te-input-wrapper-init>\n                                <label for=\"username \">Username</label>\n\n                            <input\n                                type=\"text\"\n                                class=\"peer block min-h-[auto] w-full rounded border-2 bg-transparent px-3 py-[0.32rem] leading-[1.6] outline-none transition-all duration-200 ease-linear focus:placeholder:opacity-100 data-[te-input-state-active]:placeholder:opacity-100 motion-reduce:transition-none dark:placeholder:text-neutral-200 [&:not([data-te-input-placeholder-active])]:placeholder:opacity-0\"\n                                id=\"login\" (ngModel)=\"retour.username\" name=\"username\"\n                                placeholder=\"Username\" />\n                            </div>\n        \n                        <!--Password input-->\n                            <div class=\"relative mb-4\" data-te-input-wrapper-init>  \n\n                            <label>Password</label>\n\n                            <input \n                                type=\"password\"\n                        \n                                class=\" peer block min-h-[auto] w-full rounded border-2 bg-transparent px-3 py-[0.32rem] leading-[1.6] outline-none transition-all duration-200 ease-linear focus:placeholder:opacity-100 data-[te-input-state-active]:placeholder:opacity-100 motion-reduce:transition-none dark:placeholder:text-neutral-200 [&:not([data-te-input-placeholder-active])]:placeholder:opacity-0\"\n                                id=\"password\" (ngModel)=\"retour.password\" name =\"password\"\n\n                                placeholder=\"Password\" />\n                            </div>\n    \n                        <!--Submit button-->\n                            <div class=\"mb-12 pb-1 pt-1 text-center\">\n                            <button\n                                class=\"mb-3 inline-block w-full rounded px-6 pb-2 pt-2.5 text-xs font-medium uppercase leading-normal text-white shadow-[0_4px_9px_-4px_rgba(0,0,0,0.2)] transition duration-150 ease-in-out hover:shadow-[0_8px_9px_-4px_rgba(0,0,0,0.1),0_4px_18px_0_rgba(0,0,0,0.2)] focus:shadow-[0_8px_9px_-4px_rgba(0,0,0,0.1),0_4px_18px_0_rgba(0,0,0,0.2)] focus:outline-none focus:ring-0 active:shadow-[0_8px_9px_-4px_rgba(0,0,0,0.1),0_4px_18px_0_rgba(0,0,0,0.2)]\"\n                                type=\"submit\"\n                                data-te-ripple-init\n                                data-te-ripple-color=\"light\"\n                                style=\"\n                                background: linear-gradient(to right, #ee7724, #d8363a, #dd3675, #b44593);\n                                \">\n                                Log in\n                            </button>\n        \n                            <!--Forgot password link-->\n                            <a href=\"#!\">Forgot password?</a>\n                            </div>\n    \n                        <!--Register button-->\n                            <div class=\"flex items-center justify-between pb-6\">\n                            <p class=\"mb-0 mr-2\">Don't have an account?</p>\n                            <button\n                                type=\"button\"\n                                class=\"inline-block rounded border-2 border-danger px-6 pb-[6px] pt-2 text-xs font-medium uppercase leading-normal text-danger transition duration-150 ease-in-out hover:border-danger-600 hover:bg-neutral-500 hover:bg-opacity-10 hover:text-danger-600 focus:border-danger-600 focus:text-danger-600 focus:outline-none focus:ring-0 active:border-danger-700 active:text-danger-700 dark:hover:bg-neutral-100 dark:hover:bg-opacity-10\"\n                                data-te-ripple-init\n                                data-te-ripple-color=\"light\">\n                                Register \n                            </button>\n                            </div>\n                        </form>\n                    </div>\n                    </div>\n                </div>\n                </div>\n            </div>\n            </div>\n        </div>\n        </div>\n    \n    </section>\n</div>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}